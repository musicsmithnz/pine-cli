    <!DOCTYPE html>
    <html>
    <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, minimum-scale=1, initial-scale=1, user-scalable=yes">
    <title>App made with PINE Web Components</title>
    <meta name="description" content="Using Storj, Polymer, Ipfs, Node, and Express to create Modular Decentralized Web Apps quickly">
    <script src="../node_modules/@webcomponents/webcomponentsjs/webcomponents-loader.js"></script>
    <script src="../node_modules/browser-es-module-loader/dist/babel-browser-build.js"></script>
    <script src="../node_modules/browser-es-module-loader/dist/browser-es-module-loader.js"></script>
    <link rel="shortcut icon" type="image/png" href="../images/favicon.png"/>
    <link rel="shortcut icon" href="favicon.png"></head>
    <body>
        <app-drawer-layout drawer-width="288px" responsive-width="1280px" narrow="{{narrow}}">
            <!-- nav panel -->  
            <app-drawer id="drawer" slot="drawer">
                <app-header-layout has-scrolling-region>    
                    <app-header fixed slot="header">
                        <!-- bottom toolbar -->
                    </app-header>
                    <!-- nav menu -->
                    <iron-selector
                        class="nav-menu"
                        selected="[[categoryData.category]]"
                        attr-for-selected="name"
                        on-iron-activate="_drawerSelected">
                        <template is="dom-repeat" items="[[articles]]">
                            <a name="[[item.name]]" href="#/[[item.name]]/list">{{item.title}}</a>
                        </template>
                    </iron-selector>    
                </app-header-layout>
            </app-drawer>
            <!-- main panel -->
            <app-header-layout>    
                <app-header fixed effects="waterfall" class="main-header" slot="header">
                    <!-- top toolbar -->
                    <app-toolbar class="title-toolbar nav-title-toolbar">
                        <paper-icon-button icon="menu" onclick="drawer.toggle()">menu</paper-icon-button>
                        <div main-title="">app name</div>
                        <paper-icon-button icon="delete" onclick="drawer.toggle()">delete</paper-icon-button>
                        <paper-icon-button icon="search" onclick="drawer.toggle()">search</paper-icon-button>
                        <paper-icon-button icon="close" onclick="drawer.toggle()">close</paper-icon-button>
                        <!-- menu button -->
                        <paper-icon-button
                            drawer-toggle
                            icon="app:menu"
                            hidden$="[[_shouldHideMenuButton(pageData.page, narrow)]]"></paper-icon-button>
                        <!-- back button -->
                        <a
                            href="#/[[categoryData.category]]/list"
                            hidden$="[[_equal(pageData.page, 'list')]]">
                            <paper-icon-button icon="app:arrow-back"></paper-icon-button>
                        </a>
                    </app-toolbar>
                </app-header>
                <!-- list/detail pages -->
                <iron-pages selected="[[pageData.page]]" attr-for-selected="name">    
                    <!-- list page -->
                    <iron-pages name="list" selected="[[categoryData.category]]" attr-for-selected="name">
                        <template is="dom-repeat" items="[[articles]]" as="category">
                            <section class="category-page" name="[[category.name]]">
                                <!-- 2-columns grid -->
                                <two-columns-grid column-width="396" gutter="4">
                                    <template is="dom-repeat" items="[[category.items]]" as="article">
                                        <article-headline 
                                            href="#/[[category.name]]/detail/[[article.id]]"
                                            article="[[article]]">
                                        </article-headline>
                                    </template>
                                </two-columns-grid>
                            </section>
                        </template>    
                    </iron-pages>
                    <!-- detail page -->
                    <article-detail name="detail" article="[[article]]">
                    
                    </article-detail>
                </iron-pages>    
            </app-header-layout>    
        </app-drawer-layout>

          <script>
                  Polymer({
                        is: 'blog-app',
                              properties: {
                                      /**
                                               * Articles data.
                                                        */
                                                                articles: Object,
                                                                        route: Object,
                                                                                subRoute: Object,
                                                                                        subsubRoute: {
                                                                                                  type: Object,
                                                                                                            observer: '_subsubrouteChanged'
                                                                                                                    },
                                                                                                                            categoryData: Object,
                                                                                                                                    pageData: Object,
                                                                                                                                            idData: Object,
                                                                                                                                                    _scrollPositionMap: {
                                                                                                                                                              type: Object,
                                                                                                                                                                        value: function() {
                                                                                                                                                                                    return {};
                                                                                                                                                                                              }
                                                                                                                                                                                                      }
                                                                                                                                                                                                            },
                                                                                                                                                                                                                  observers: [
                                                                                                                                                                                                                          '_updateArticle(articles, categoryData.category, idData.id)'
                                                                                                                                                                                                                                ],
                                                                                                                                                                                                                                      attached: function() {
                                                                                                                                                                                                                                              this.async(function() {
                                                                                                                                                                                                                                                        if (!this.route.path) {
                                                                                                                                                                                                                                                                    this.set('route.path', '/art/list');
                                                                                                                                                                                                                                                                              }
                                                                                                                                                                                                                                                                                      });
                                                                                                                                                                                                                                                                                            },
                                                                                                                                                                                                                                                                                                  _equal: function(value1, value2) {
                                                                                                                                                                                                                                                                                                          return value1 === value2;
                                                                                                                                                                                                                                                                                                                },
                                                                                                                                                                                                                                                                                                                      _updateArticle: function(articles, category, id) {
                                                                                                                                                                                                                                                                                                                              if (!articles) {
                                                                                                                                                                                                                                                                                                                                        return;
                                                                                                                                                                                                                                                                                                                                                }
                                                                                                                                                                                                                                                                                                                                                        for (var i=0, cat; cat=articles[i]; i++) {
                                                                                                                                                                                                                                                                                                                                                                  if (cat.name === category) {
                                                                                                                                                                                                                                                                                                                                                                              for (var j=0, article; article=cat.items[j]; j++) {
                                                                                                                                                                                                                                                                                                                                                                                            if (article.id === id) {
                                                                                                                                                                                                                                                                                                                                                                                                            this.article = article;
                                                                                                                                                                                                                                                                                                                                                                                                                            return;
                                                                                                                                                                                                                                                                                                                                                                                                                                          }
                                                                                                                                                                                                                                                                                                                                                                                                                                                      }
                                                                                                                                                                                                                                                                                                                                                                                                                                                                }
                                                                                                                                                                                                                                                                                                                                                                                                                                                                        }
                                                                                                                                                                                                                                                                                                                                                                                                                                                                              },
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    _drawerSelected: function() {
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            if (!this.$.drawer.persistent) this.$.drawer.close();
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  },
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        _shouldHideMenuButton: function(page, narrow) {
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                return page === 'detail' || !narrow;
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      },
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            /**
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   * Preserves the document scroll position, so
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          * it can be restored when returning to a page.
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 */
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       _subsubrouteChanged: function(subroute, oldSubroute) {
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               var map = this._scrollPositionMap;
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       if (oldSubroute != null && oldSubroute.prefix != null) {
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 // Don't reset the scroll position in the detail page.
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           if (oldSubroute.prefix.indexOf('detail') == -1) {
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       map[oldSubroute.prefix] = window.pageYOffset;
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 }
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         }
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 if (map[subroute.prefix] != null) {
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           Polymer.AppLayout.scroll({ top: map[subroute.prefix], behavior: 'silent' });
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   } else if (this.isAttached) {
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             Polymer.AppLayout.scroll({ top: 0, behavior: 'silent' });
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     }
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           }
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               });
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 </script>

    <script type="text/javascript" src="app.e25c011a712d0d4f25f6.js?e25c011a712d0d4f25f6"></script></body>
</html>
